# --------------------------------------------------------------------------------------------------
# DEVELOPMENT docker-compose.
# --------------------------------------------------------------------------------------------------

version: "3.9"

networks:
  ethicapp-network:
    external: true


secrets:
  jwt_token:
    file: ./secrets/jwt_token

services:
  node:
    container_name: "ethicapp"
    image: ethicapp/stable-2:latest
    environment:
      NODE_ENV: release
      NODE_PORT: ${NODE_PORT}
    restart: "no"
    networks:
      - ethicapp-network
    ports:
      - "${NODE_PORT}:${NODE_PORT}"
    secrets:
      - jwt_token